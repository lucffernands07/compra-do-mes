const resultadoDiv = document.getElementById('resultado');

async function atualizarPrecos() {
  resultadoDiv.innerHTML = "";

  try {
    const res = await fetch("prices/prices_tenda.json");
    const data = await res.json();

    if (data.length > 0) {
      let html = "<h2>Tenda</h2><ul>";
      data.forEach(p => {
        html += `<li>${p.produto} - ${p.preco_por_kg.toFixed(2)} R$/kg (R$ ${p.preco.toFixed(2)})</li>`;
      });
      html += "</ul>";
      resultadoDiv.innerHTML = html;
    } else {
      resultadoDiv.innerHTML = "<p>Nenhum produto encontrado.</p>";
    }
  } catch (err) {
    console.error(err);
    resultadoDiv.innerHTML = "<p>Erro ao buscar preços.</p>";
  }
}

// Atualiza automaticamente ao carregar a página
atualizarPrecos();
